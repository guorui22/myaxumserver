<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
</head>
<body>
<canvas id="canvas" style="border: 1px solid black"></canvas>

<script type="module">
    import init, { highlight_canvas, greet, get_str, get_json, get_jval, set_jval } from "./pkg/libwasm.js";

    await init();

    const $canvas = document.querySelector("#canvas");
    const ctx = $canvas.getContext("2d");
    ctx.rect(0, 0, 200, 150);
    ctx.fill();

    highlight_canvas($canvas);
    //greet();
    console.log(get_str());
    console.log(get_json());
    console.log(JSON.parse(get_json()));
    console.log(get_jval());
    console.log(set_jval(get_jval()));
</script>
</body>
</html>